echo "🔍 Running unit tests..."
bun run test:run || {
  echo "❌ Tests failed! Commit aborted."
  exit 1
}

echo "🧩 Running TypeScript type-checking..."
bun run type-check || {
  echo "❌ Type errors detected! Commit aborted."
  exit 1
}

echo "✨ Running lint-staged (ESLint + Prettier)..."
bunx lint-staged || {
  echo "❌ Linting/Formatting failed! Commit aborted."
  exit 1
}

echo "✅ All checks passed! Proceeding with commit."